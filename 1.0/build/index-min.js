/*! mqa - v1.0 - 2013-05-05 5:05:29 PM
* Copyright (c) 2013 踏风; Licensed  */
KISSY.add("gallery/mqa/1.0/mqa",function(){window.matchMedia=window.matchMedia||function(e){"use strict";var n,t=e.documentElement,i=t.firstElementChild||t.firstChild,r=e.createElement("body"),a=e.createElement("div");return a.id="mq-test-1",a.style.cssText="position:absolute;top:-100em",r.style.background="none",r.appendChild(a),function(e){return a.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',t.insertBefore(r,i),n=42===a.offsetWidth,t.removeChild(r),{matches:n,media:e}}}(window.document);var e={},n=function(e,n){var t=function(){n.apply(this,arguments)};return e.addListener(t),t},t={add:function(n,t){if(n in e)throw Error(n+" has already been added!");return e[n]={media:t,mql:null,handlers:[],wraps:[]},this},remove:function(n){return this.off(n)?delete e[n]:!1},on:function(t,i,r){t in e||(e[t]={media:t,mql:window.matchMedia(t),handlers:[],wraps:[]});var a,d=e[t],s=d.mql||(d.mql=window.matchMedia(d.media)),o=d.handlers;return o.indexOf(i)>-1?(r&&i(s),this):(a=n(s,i),o.push(i),d.wraps.push(a),r&&i(s),this)},off:function(n,t){if(!(n in e))return!1;var i,r,a,d=e[n];if(i=d.mql,r=d.wraps,a=d.handlers,"function"!=typeof t)return r.forEach(function(e){i.removeListener(e)}),!0;var s=a.indexOf(t);return s>-1?(i.removeListener(r[s]),a.splice(s,1),r.splice(s,1),!0):!1},match:function(n){return n in e&&e[n].mql.matches||window.matchMedia(n).matches}};return t}),KISSY.add("gallery/mqa/1.0/index",function(e,n){return n},{requires:["./mqa"]});